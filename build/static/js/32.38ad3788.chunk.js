(this["webpackJsonpreact-web"]=this["webpackJsonpreact-web"]||[]).push([[32],{781:function(e,t,a){"use strict";a.r(t);var n=a(117),c=a.n(n),r=a(173),s=a(32),i=a(0),l=a(5),o=a(625),u=a(86),d=a(375),j=a(624),b=a(808),O=a(809),h=a(810),m=a(811),f=a(812),p=a(827),x=a(640),g=a(828),v=a(668),w=a(777),N=a.n(w),y=a(680),k=a.n(y),P=a(623),C=Object(P.a)((function(e){return{root:{overflowX:"auto"},table:{minWidth:1050},dialog:{},modal:{}}})),I=a(675),D=a(63),T=a(56),S=a(91),A=a(176),F=a(3);t.default=Object(o.h)((function(e){var t=e.className,a=e.refreshData,n=e.data,w=e.pagination,y=e.limit,P=e.history,J=C(),R=Object(v.a)().t,z=Object(T.b)(),E=z.token,M=z.authData,U=Object(S.a)().setNotificationData,V=Object(i.useMemo)((function(){return new A.a(E)}),[E]),W=Object(o.g)().userId,X=Object(i.useState)(!1),q=Object(s.a)(X,2),B=q[0],G=q[1],H=Object(i.useState)(!1),K=Object(s.a)(H,2),L=K[0],Q=K[1],Y=Object(i.useState)({}),Z=Object(s.a)(Y,2),$=Z[0],_=Z[1],ee=Object(i.useCallback)(Object(r.a)(c.a.mark((function e(){var t,a,n=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"",e.next=3,V.get({id:t});case 3:(a=e.sent).data?(G(!0),_(a.data||{})):(G(!1),_({}));case 5:case"end":return e.stop()}}),e)}))),[V]);Object(i.useEffect)((function(){return W&&M.id!==W&&ee(W),function(){G(!1),Q(!1),_({})}}),[]);var te=function(){G(!1),_({}),P.push("/user")},ae=function(){var e=Object(r.a)(c.a.mark((function e(){var t,n,r,s=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:{},n={email:t.email,firstName:t.firstName,lastName:t.lastName,phone:t.phone||""},e.next=4,V.put({id:$.id},n);case 4:r=e.sent,U({type:r.type,message:r.message}),r.data&&(a(),G(!1));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(r.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Q(!1),!t){e.next=7;break}return e.next=4,V.delete({id:$.id});case 4:n=e.sent,U({type:n.type,message:n.message}),n.data&&a();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){return Number("1")};return Object(F.jsxs)(d.a,{className:Object(l.a)(J.root,t),children:[Object(F.jsx)(j.a,{open:B,onClose:te,children:Object(F.jsx)("div",{className:Object(l.a)(J.root,"modal"),children:Object(F.jsx)(I.b,{onUpdate:ae,onCancel:te,type:"update",data:$})})}),Object(F.jsx)(D.b,{isVisible:L,title:R("general.warning"),message:R("user.delete"),buttonTrueText:R("general.confirm"),buttonFalseText:R("general.cancel"),onFalse:function(){Q(!1),_({})},onTrue:ne,type:"warning"}),Object(F.jsxs)(b.a,{className:J.table,size:"small",children:[Object(F.jsx)(O.a,{children:Object(F.jsxs)(h.a,{children:[Object(F.jsx)(m.a,{children:R("user.fullName")}),Object(F.jsx)(m.a,{children:R("user.userName")}),Object(F.jsx)(m.a,{children:R("user.email")}),Object(F.jsx)(m.a,{children:R("user.phone")}),Object(F.jsx)(m.a,{align:"center",children:R("user.active")}),Object(F.jsx)(m.a,{children:R("user.createdAt")}),Object(F.jsx)(m.a,{align:"center",children:R("user.action")})]})}),Object(F.jsx)(f.a,{children:n.map((function(e){return Object(F.jsxs)(h.a,{className:J.tableRow,hover:!0,children:[Object(F.jsxs)(m.a,{children:[e.firstName," ",e.lastName]}),Object(F.jsx)(m.a,{children:e.username}),Object(F.jsx)(m.a,{children:e.email}),Object(F.jsx)(m.a,{children:e.phone}),Object(F.jsx)(m.a,{align:"center",children:e.active?Object(F.jsx)(p.a,{className:"green-bg white",label:R("user.active")}):Object(F.jsx)(p.a,{className:"red-bg white",label:R("user.inactive")})}),Object(F.jsx)(m.a,{children:e.createdAt}),Object(F.jsxs)(m.a,{align:"center",children:[Object(F.jsx)(x.a,{disabled:M.id===e.id||e.roleId===ce(),onClick:function(){return ee(e.id)},component:u.a,to:"/user/".concat(e.id),children:Object(F.jsx)(k.a,{className:Object(l.a)({green:M.id!==e.id&&e.roleId!==ce(),grey:M.id===e.id||e.roleId===ce()})})}),Object(F.jsx)(x.a,{disabled:M.id===e.id||e.roleId===ce(),onClick:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Q(!0),_({id:e})}(e.id)},children:Object(F.jsx)(N.a,{className:Object(l.a)({red:M.id!==e.id&&e.roleId!==ce(),grey:M.id===e.id||e.roleId===ce()})})})]})]},e.id)}))})]}),Object(F.jsx)(g.a,{component:"div",count:w.totalData||0,onChangePage:function(e,t){e.preventDefault(),a("page",t+1)},onChangeRowsPerPage:function(e){var t=e.target;a("limit",Number(t.value))},page:(w.currentPage||1)-1,rowsPerPage:y,rowsPerPageOptions:[10,20,30]})]})}))}}]);
//# sourceMappingURL=32.38ad3788.chunk.js.map